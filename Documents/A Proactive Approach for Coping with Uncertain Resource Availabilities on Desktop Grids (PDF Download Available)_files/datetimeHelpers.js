var datetimeHelpers=function(){var a=function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},b=function(b,c){var d,e,f=b.indexOf("|");if(f>0){d=a(b.substring(0,f)).split(",");for(e in d)d.hasOwnProperty(e)&&(a(d[e]).match(/\{\{[a-zA-Z0-9_\-\.]+\}\}/)?d[e]=c(a(d[e])):d[e]=a(d[e]));return d}return[]},c={now:"Just now",minute:"1 minute",minutes:"X minutes",hour:"an hour",hours:"X hours",day:"1 day",days:"X days",ago:" ago",fromnow:" from now"},d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=function(a,b){b=b||new Date;var d,e,g=(b.getTime()-a.getTime())/1e3;return e=0>g?c.fromnow:c.ago,0>g&&(a=b,g*=-1),(d=60>g?c.now:120>g?c.minute:3600>g?c.minutes.replace(/X/,Math.floor(g/60)):7200>g?c.hour:86400>g?c.hours.replace(/X/,Math.floor(g/3600)):172800>g?c.day:2678400>g?c.days.replace(/X/,Math.floor(g/86400)):"")?(d!==c.now&&(d+=e),d):f(a)},f=function(a){return d[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()},g=function(a){return d[a.getMonth()]+" "+(a.getDate()<10?"0"+a.getDate():a.getDate())+", "+a.getFullYear()},h=function(a){return d[a.getMonth()]+" "+a.getDate()},i={now:"now",justNow:"Just now",yesterday:"Yesterday",minute:"Xm",hour:"Xh",day:"Xd",week:"Xw",year:"Xy"},j=function(a,b){b=b||new Date;var c=(b.getTime()-a.getTime())/1e3;0>c&&(a=b,c*=-1);var d=1,e=60*d,f=60*e,g=24*f,h=7*g,j=365*g;return e>c?i.now:f>c?i.minute.replace(/X/,Math.floor(c/e)):g>c?i.hour.replace(/X/,Math.floor(c/f)):h>c?i.day.replace(/X/,Math.floor(c/g)):j>c?i.week.replace(/X/,Math.floor(c/h)):i.year.replace(/X/,Math.floor(c/j))},k=function(a,b){b=b||new Date;var c=(b.getTime()-a.getTime())/1e3;0>c&&(a=b,c*=-1);var d=1,e=60*d,g=60*e,j=24*g,k=2*j,l=365*j;return e>c?i.justNow:g>c?i.minute.replace(/X/,Math.floor(c/e)):j>c?i.hour.replace(/X/,Math.floor(c/g)):k>c?i.yesterday:l>c?h(a):f(a).replace(/,/g,"")};return{getFullDatestring:function(a){return f(a)},getShortDatestring:function(a){return h(a)},timeAgo:function(){return function(a,c){var d=b(a,c),f=d[0],g=d[1];return e(new Date(this[f]),new Date(this[g]))}},feedTimeAgo:function(){return function(a,c){var d=b(a,c),e=d[0],f=d[1],h=new Date(this[e]);return'<span title="'+g(h).replace(/,/g,"")+'">'+k(h,new Date(this[f]))+"</span>"}},twitterTimeAgo:function(){return function(a,c){var d=b(a,c),e=d[0],g=d[1],h=new Date(this[e]);return'<span title="'+f(h)+'">'+j(h,new Date(this[g]))+"</span>"}}}}();"undefined"!=typeof module&&module.exports&&(module.exports=datetimeHelpers);