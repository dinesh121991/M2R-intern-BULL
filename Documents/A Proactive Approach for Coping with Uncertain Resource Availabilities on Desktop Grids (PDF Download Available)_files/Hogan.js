var Hogan={};!function(a,b){function c(a){return a=String(null===a||void 0===a?"":a),a.replace("\x00","")}function d(a){return a=c(a),j.test(a)?a.replace(e,"&amp;").replace(f,"&lt;").replace(g,"&gt;").replace(h,"&#39;").replace(i,"&quot;"):a}a.Template=function(a,c,d,e){this.r=a||this.r,this.c=d,this.options=e,this.text=c||"",this.buf=b?[]:""},a.Template.prototype={r:function(a,b,c){return""},v:d,t:c,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&"string"==typeof e&&(e=this.c.compile(e,this.options)),e.ri(b,c,d)):""},rs:function(a,b,c){var d=a[a.length-1];if(!k(d))return void c(a,b,this);for(var e=0;e<d.length;e++)a.push(d[e]),c(a,b,this),a.pop()},s:function(a,b,c,d,e,f,g){var h;return k(a)&&0===a.length?!1:("function"==typeof a?a=this.ls(a,b,c,d,e,f,g,[]):a&&"object"==typeof a&&a.val&&(a=this.ls(a.val,b,c,d,e,f,g,a.functionArgs)),h=""===a||!!a,!d&&h&&b&&b.push("object"==typeof a?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if("."===a&&k(b[b.length-2]))return b[b.length-1];if("."===a&&k(b[0][b[0].length-2]))return b[0][b[0].length-1];for(var h=1;h<e.length;h++)f&&"object"==typeof f&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(d||"function"!=typeof f||(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e,f=!1,g=null,h=!1;a.match(/\s/)&&(e=a.split(/\s/),a=e.shift());for(var i=b.length-1;i>=0;i--)if(g=b[i],g&&"object"==typeof g&&a in g){f=g[a],h=!0;break}if(!h)return d?!1:"";if("function"==typeof f){if(d)return{val:f,functionArgs:e};f=this.lv(f,b,c,e)}return f},ho:function(a,b,c,d,e,f,g){var h=this.c,i=this.options;i.delimiters=e,g=g||[],g.unshift(f),g.unshift(function(a,d){return h.compile(a,i).render(d?d:b,c)}),g.unshift(d);for(var j in f[0])f[0].hasOwnProperty(j)&&"function"==typeof f[0][j]&&(b[j]=f[0][j]);var k=a.apply(b,g);return this.b(k.toString()),!1},b:b?function(a){this.buf.push(a)}:function(a){this.buf+=a},fl:b?function(){var a=this.buf.join("");return this.buf=[],a}:function(){var a=this.buf;return this.buf="",a},ls:function(a,b,c,d,e,f,g,h){var i,j=b[b.length-1];if(h=h||[],!d&&this.c&&a.length>0)return this.ho(a,j,c,this.text.substring(e,f),g,b,h);if(i=a.apply(j,h),"function"==typeof i){if(d)return!0;if(this.c)return this.ho(i,j,c,this.text.substring(e,f),g,b,h)}return i},lv:function(a,b,d,e){var f=b[b.length-1],g=a.apply(f,e);return"function"==typeof g&&(g=g.apply(f,e)),g=c(g),this.c&&~g.indexOf("{{")?this.c.compile(g,this.options).render(f,d):g}};var e=/&/g,f=/</g,g=/>/g,h=/\'/g,i=/\"/g,j=/[&<>\"\']/,k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}}("undefined"!=typeof exports?exports:Hogan),function(a){function b(a){"}"===a.n.substr(a.n.length-1)&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;e>d;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(a,b,c,d){for(var h,i,j=[],k=null,l=null;a.length>0;)if(l=a.shift(),"#"==l.tag||"^"==l.tag||f(l,d))c.push(l),l.nodes=e(a,l.tag,c,d),j.push(l);else{if("/"==l.tag){if(0===c.length)throw new Error("Closing tag without opener: /"+l.n);if(k=c.pop(),i=k.n,i.match(/\s/)&&(h=i.split(/\s/),i=h.shift()),l.n!=i&&!g(l.n,i,d))throw new Error("Nesting error: "+i+" vs. "+l.n);return k.end=l.i,j}j.push(l)}if(c.length>0)throw new Error("missing closing tag: "+c.pop().n);return j}function f(a,b){for(var c=0,d=b.length;d>c;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;e>d;d++)if(c[d].c==a&&c[d].o==b)return!0}function h(a){return'var _=this;_.b(i=i||"");'+k(a)+"return _.fl();"}function i(a){return a.replace(v,"\\\\").replace(s,'\\"').replace(t,"\\n").replace(u,"\\r").replace(x,"\\u2028").replace(y,"\\u2029")}function j(a){return~a.indexOf(".")?"d":"f"}function k(a){for(var b="",c=0,d=a.length;d>c;c++){var e=a[c].tag;"#"==e?b+=l(a[c].nodes,a[c].n,j(a[c].n),a[c].i,a[c].end,a[c].otag+" "+a[c].ctag):"^"==e?b+=m(a[c].nodes,a[c].n,j(a[c].n)):"<"==e||">"==e?b+=n(a[c]):"{"==e||"&"==e?b+=o(a[c].n,j(a[c].n)):"\n"==e?b+=q('"\\n"'+(a.length-1==c?"":" + i")):"_v"==e?b+=p(a[c].n,j(a[c].n)):void 0===e&&(b+=q('"'+i(a[c])+'"'))}return b}function l(a,b,c,d,e,f){return"if(_.s(_."+c+'("'+i(b)+'",c,p,1),c,p,0,'+d+","+e+',"'+f+'")){_.rs(c,p,function(c,p,_){'+k(a)+"});c.pop();}"}function m(a,b,c){return"if(!_.s(_."+c+'("'+i(b)+'",c,p,1),c,p,1,0,0,"")){'+k(a)+"};"}function n(a){return'_.b(_.rp("'+i(a.n)+'",c,p,"'+(a.indent||"")+'"));'}function o(a,b){return"_.b(_.t(_."+b+'("'+i(a)+'",c,p,0)));'}function p(a,b){return"_.b(_.v(_."+b+'("'+i(a)+'",c,p,0)));'}function q(a){return"_.b("+a+");"}var r=/\S/,s=/"/g,t=/\n/g,u=/\r/g,v=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10},x=/\u2028/,y=/\u2029/;a.scan=function(a,e){function f(){s.length>0&&(t.push(String(s)),s="")}function g(){for(var a=!0,b=v;b<t.length;b++)if(a=t[b].tag&&w[t[b].tag]<w._v||!t[b].tag&&null===t[b].match(r),!a)return!1;return a}function h(a,b){if(f(),a&&g())for(var c,d=v;d<t.length;d++)t[d].tag||((c=t[d+1])&&">"==c.tag&&(c.indent=t[d].toString()),t.splice(d,1));else b||t.push({tag:"\n"});u=!1,v=t.length}function i(a,b){var d="="+y,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return x=f[0],y=f[1],e+d.length-1}var j,k=a?a.length:0,l=0,m=1,n=2,o=l,p=null,q=null,s="",t=[],u=!1,v=0,x="{{",y="}}";for(e&&(e=e.split(" "),x=e[0],y=e[1]),j=0;k>j;j++)o==l?d(x,a,j)?(--j,f(),o=m):"\n"==a.charAt(j)?h(u):s+=a.charAt(j):o==m?(j+=x.length-1,q=w[a.charAt(j+1)],p=q?a.charAt(j+1):"_v","="==p?(j=i(a,j),o=l):(q&&j++,o=n),u=j):d(y,a,j)?(t.push({tag:p,n:c(s),otag:x,ctag:y,i:"/"==p?u-y.length:j+x.length}),s="",j+=y.length-1,o=l,"{"==p&&("}}"==y?j++:b(t[t.length-1]))):s+=a.charAt(j);return h(u,!0),t},a.generate=function(b,c,d){return d.asString?"function(c,p,i){"+b+";}":new a.Template(new Function("c","p","i",b),c,a,d)},a.parse=function(a,b,c){return c=c||{},e(a,"",[],c.sectionTags||[])},a.cache={},a.compile=function(a,b){b=b||{};var c=a+"||"+!!b.asString,d=this.cache[c];return d?d:(d=this.generate(h(this.parse(this.scan(a,b.delimiters),a,b)),a,b),this.cache[c]=d)}}("undefined"!=typeof exports?exports:Hogan);